@{
	ViewData["Title"] = "Permission";
	Layout = "~/Views/Shared/_Layout.cshtml";
}
@* <style>

	.permission-container {
		background: #fff;
		border-radius: 8px;
		box-shadow: 0 2px 4px rgba(0,0,0,0.1);
		margin: 20px;
	}

	.permission-header {
		background: #f8f9fa;
		padding: 15px 20px;
		border-bottom: 1px solid #dee2e6;
		display: flex;
		justify-content: space-between;
		align-items: center;
	}

		.permission-header h4 {
			margin: 0;
			color: #495057;
		}

	.btn-minimize {
		background: none;
		border: none;
		color: #6c757d;
		cursor: pointer;
	}

	.permission-content {
		padding: 20px;
	}

	.permission-filters {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: 20px;
		margin-bottom: 20px;
	}

	.filter-group {
		display: flex;
		flex-direction: column;
		gap: 8px;
	}

		.filter-group label {
			font-size: 14px;
			color: #495057;
		}

	.permission-actions {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 20px;
	}

	.search-box {
		position: relative;
		width: 300px;
	}

		.search-box i {
			position: absolute;
			right: 10px;
			top: 50%;
			transform: translateY(-50%);
			color: #6c757d;
		}

	.action-buttons {
		display: flex;
		gap: 10px;
	}

	.btn {
		padding: 6px 12px;
		border-radius: 4px;
		border: none;
		font-size: 14px;
		cursor: pointer;
		display: flex;
		align-items: center;
		gap: 5px;
	}

	.btn-expand {
		background: #e9ecef;
		color: #495057;
	}

	.btn-show-all {
		background: #007bff;
		color: white;
	}

	.btn-granted {
		background: #28a745;
		color: white;
	}

	.btn-denied {
		background: #dc3545;
		color: white;
	}

	.permission-tree {
		border: 1px solid #dee2e6;
		border-radius: 4px;
		padding: 15px;
	}

	.tree-item {
		margin-bottom: 10px;
	}

	.item-header, .item-content {
		display: flex;
		align-items: center;
		gap: 10px;
		padding: 5px 0;
	}

	.item-children {
		margin-left: 25px;
	}

	.form-select {
		padding: 8px;
		border: 1px solid #ced4da;
		border-radius: 4px;
		width: 100%;
	}

	.form-control {
		padding: 8px;
		border: 1px solid #ced4da;
		border-radius: 4px;
		width: 100%;
		padding-right: 30px;
	}
	/*POSSCREEN*/

	.pos-window {
		background: #f0f0f0;
		border: 1px solid #999;
		border-radius: 4px;
		display: flex;
		flex-direction: column;
		height: 100vh;
	}

	/* Window Header */
	.window-header {
		background: linear-gradient(to bottom, #0078d7, #0063ca);
		color: white;
		padding: 5px 10px;
		display: flex;
		justify-content: space-between;
	}

	/* Content Layout */
	.pos-content {
		display: flex;
		flex: 1;
		padding: 10px;
		gap: 10px;
	}

	/* Left Section */
	.left-section {
		width: 250px;
		background: white;
		border: 1px solid #ddd;
	}

	.dropdown-section select {
		width: 100%;
		padding: 5px;
		margin-bottom: 10px;
	}

	.search-box {
		padding: 10px;
	}

		.search-box input {
			width: 100%;
			padding: 5px;
		}

	.description-header {
		display: flex;
		justify-content: space-between;
		padding: 10px;
		background: #f8f9fa;
		border-bottom: 1px solid #ddd;
	}

	.category {
		padding: 10px;
		cursor: pointer;
	}

		.category.active {
			background: #ff6b33;
			color: white;
		}

	/* Center Section */
	.center-section {
		flex: 1;
		display: flex;
		flex-direction: column;
	}

	.page-header {
		background: #ffe4c4;
		padding: 10px;
		margin-bottom: 10px;
		border: 1px solid #ddd;
	}

	.menu-controls {
		display: flex;
		gap: 20px;
		padding: 10px;
		background: white;
		border: 1px solid #ddd;
	}

	.grid-container {
		display: grid;
		grid-template-columns: repeat(5, 1fr);
		gap: 5px;
		padding: 10px;
		background: white;
		border: 1px solid #ddd;
		flex: 1;
	}

	.grid-cell {
		aspect-ratio: 1;
		border: 1px dashed #ccc;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.menu-item {
		width: 100%;
		height: 100%;
		display: flex;
		align-items: center;
		justify-content: center;
		text-align: center;
		padding: 5px;
		cursor: move;
		color: white;
	}

		.menu-item.beverage {
			background: #000080;
		}

		.menu-item.food {
			background: #4CAF50;
		}

		.menu-item.special {
			background: #FF9800;
		}

	/* Right Section */
	.right-section {
		width: 150px;
		display: flex;
		flex-direction: column;
	}

	.navigation-panel {
		display: flex;
		flex-direction: column;
		gap: 10px;
	}

	.category-buttons {
		display: flex;
		flex-direction: column;
		gap: 5px;
	}

	.category-btn {
		padding: 10px;
		background: white;
		border: 1px solid #ddd;
		text-align: left;
	}

	.nav-arrows {
		display: flex;
		flex-direction: column;
		gap: 5px;
		align-items: flex-end;
	}

	.arrow-btn {
		width: 30px;
		height: 30px;
		background: white;
		border: 1px solid #ddd;
		cursor: pointer;
	}

	/* Footer */
	.footer {
		padding: 10px;
		background: #e8e8e8;
		display: flex;
		justify-content: space-between;
		align-items: center;
	}

	.action-buttons {
		display: flex;
		gap: 10px;
	}

	.btn-action {
		padding: 8px 15px;
		background: white;
		border: 1px solid #ddd;
		cursor: pointer;
	}

	.status {
		padding: 5px 15px;
		background: #90EE90;
	}

</style> *@

<style>
	.btn-expand, .btn-show-all, .btn-granted, .btn-denied {
		margin-top: 10px;
	}

	.tree-item {
		margin-top: 10px;
		padding: 10px;
		background-color: #fff;
		border: 1px solid #ddd;
		border-radius: 5px;
	}

	.item-children {
		margin-left: 20px;
	}

	.btn i {
		margin-right: 5px;
	}
</style>

@* <link href="~/css/Stylesheet.css" rel="Stylesheet" /> *@
@* <div class="permission-container" style="max-width: 1200px; margin-top: 80px;">
    <!-- Header -->
    <div class="card-header">
        <center>
            <h4 style="text-align: center;">User Permission</h4>
        </center>




    </div> *@
<!-- ============================================================== -->
<!-- Start Content here -->
<!-- ============================================================== -->



<div class="page-content">

	<div class="row">
		<div class="col-lg-12">

			<!--begin::Container-->

			<div class="container-fluid">

				<!--begin::Row-->

				<div class="row g-3">

					<!--begin::Col-->

					<div class="col-12">

						<!--begin::Card-->

						<div class="card">



							<!--begin::Card Header-->

							<div class="card-header">

								<!--begin::Card Title-->

								<div class="card-header header-background text-white text-center">

									<h4>User Permission</h4>

								</div>

								<!--end::Card Title-->
							
							</div>

							<!-- Content -->
							<div class="card-body">
								<!-- Filters Section -->
								<div class="row g-3">
									<div class="col-md-4">
										<label class="form-label">Module</label>
										<select class="form-select" id="moduleSelect">
											<option value="masters">Masters</option>
											<option value="pos">Point of sales systems</option>
											
										</select>
									</div>
									<div class="col-md-4">
										<label class="form-label">Section | Form | Control</label>
										<select class="form-select" id="sectionSelect">
											<option value="all">&lt;All&gt;</option>
											<option value="section1">Functions</option>
											<option value="section2">Item Options</option>
											<option value="section1">Main Window</option>
											<option value="section2">More</option>
											<option value="section1">POS</option>
											<option value="section2">Second Window</option>
										</select>
									</div>

									<div class="col-md-4">
										<label class="form-label">Position/Roles</label>
										<select class="form-select" id="positionSelect">
											<option value="">Select Position</option>
											
										</select>
									</div>

								</div>

								<!-- Search & Action Buttons -->
								<div class="row g-3 mt-3 align-items-center">
									<div class="col-md-4">
										<div class="input-group">
											<input type="text" class="form-control" placeholder="Search" id="searchInput">
											<span class="input-group-text">
												<i class="bi bi-search"></i>
											</span>
										</div>
									</div>
									<div class="col-md-8 text-md-end text-center">

										<button class="btn btn-outline-secondary btn-sm btn-expand" id="btnExpand">
											<i class="bi bi-arrows-angle-expand"></i> Expand
										</button>
										<button class="btn btn-outline-primary btn-sm btn-show-all">
											<i class="bi bi-eye"></i> Show All
										</button>

										<button class="btn btn-outline-success btn-sm btn-granted">
											<i class="bi bi-check-circle"></i> Granted
										</button>

										<button class="btn btn-outline-danger btn-sm btn-denied">
											<i class="bi bi-x-circle"></i> Denied
										</button>
									</div>
								</div>

								<!-- Permission Tree -->
								@* 	<div class="mt-4">
							<div class="tree-item">
								<div class="item-header d-flex align-items-center">
									<input type="checkbox" id="generalAccess">
									<label for="generalAccess" class="ms-2 mb-0">General Access</label>
								</div>
								<div class="item-children mt-2" id="childPermissions" style="display: none;">
									<div class="tree-item">
										<div class="item-content d-flex align-items-center">
											<input type="checkbox" id="backOffice">
											<label for="backOffice" class="ms-2 mb-0">Login to the Back Office</label>
										</div>
									</div>
									<div class="tree-item">
										<div class="item-content d-flex align-items-center">
											<input type="checkbox" id="pos">
											<label for="pos" class="ms-2 mb-0">Login to POS</label>
										</div>
									</div>
									<div class="tree-item">
										<div class="item-content d-flex align-items-center">
											<input type="checkbox" id="pda">
											<label for="pda" class="ms-2 mb-0">Login to PDA</label>
										</div>
									</div>
								</div>
							</div>
						</div> *@
								<div class="mt-4">
									<div class="tree-item">
										<div class="item-header d-flex align-items-center">
											<!-- General Access as Switch -->
											<div class="form-check form-switch">
												<input class="form-check-input" type="checkbox" id="generalAccess">
												<label class="form-check-label ms-2 mb-0" for="generalAccess">General Access</label>
											</div>
										</div>

										<!-- Child Permissions Section -->
										<div class="item-children mt-2" id="childPermissions" style="display: none;">

											<div class="tree-item">
												<div class="item-content d-flex align-items-center">
													<!-- Back Office as Switch -->
													<div class="form-check form-switch">
														<input class="form-check-input" type="checkbox" id="backOffice">
														<label class="form-check-label ms-2 mb-0" for="backOffice">Login to the Back Office</label>
													</div>
												</div>
											</div>
											          
											<div class="tree-item">
												<div class="item-content d-flex align-items-center">
													<!-- POS as Switch -->
													<div class="form-check form-switch">
														<input class="form-check-input" type="checkbox" id="pos">
														<label class="form-check-label ms-2 mb-0" for="pos">Login to POS</label>
													</div>
												</div>
											</div>

											<div class="tree-item">
												<div class="item-content d-flex align-items-center">
													<!-- PDA as Switch -->
													<div class="form-check form-switch">
														<input class="form-check-input" type="checkbox" id="pda">
														<label class="form-check-label ms-2 mb-0" for="pda">Login to PDA</label>
													</div>
												</div>
											</div>

										</div>
									</div>
								</div>

							</div>
						</div>
						</<div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>


@section Scripts {
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			// Expand/Collapse functionality
			const btnExpand = document.getElementById('btnExpand');
			const treeItems = document.querySelectorAll('.item-children');
			let isExpanded = false;

			btnExpand.addEventListener('click', function() {
				isExpanded = !isExpanded;
				treeItems.forEach(item => {
					item.style.display = isExpanded ? 'block' : 'none';
				});

				// Update button text and icon
				const icon = btnExpand.querySelector('i');
				icon.className = isExpanded ?
					'bi bi-arrows-angle-contract' :
					'bi bi-arrows-angle-expand';
			});

			// Individual item expand/collapse
			document.querySelectorAll('.item-header').forEach(header => {
				header.addEventListener('click', function(e) {
					if (e.target.type !== 'checkbox') {
						const children = this.nextElementSibling;
						if (children) {
							const isVisible = children.style.display !== 'none';
							children.style.display = isVisible ? 'none' : 'block';
						}
					}
				});
			});
		});
	</script>
}
